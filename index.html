<!DOCTYPE html>
<!-- .     .       .  .   . .   .   . .    +  .
  .     .  :     .    .. :. .___---------___.
       .  .   .    .  :.:. _".^ .^ ^.  '.. :"-_. .
    .  :       .  .  .:../:            . .^  :.:\.
        .   . :: +. :.:/: .   .    .        . . .:\
 .  :    .     . _ :::/:               .  ^ .  . .:\
  .. . .   . - : :.:./.                        .  .:\
  .      .     . :..|:                    .  .  ^. .:|
    .       . : : ..||        .                . . !:|
  .     . . . ::. ::\(                           . :)/
 .   .     : . : .:.|. ######              .#######::|
  :.. .  :-  : .:  ::|.#######           ..########:|
 .  .  .  ..  .  .. :\ ########          :######## :/
  .        .+ :: : -.:\ ########       . ########.:/
    .  .+   . . . . :.:\. #######       #######..:/
      :: . . . . ::.:..:.\           .   .   ..:/
   .   .   .  .. :  -::::.\.       | |     . .:/
      .  :  .  .  .-:.":.::.\             ..:/
 .      -.   . . . .: .:::.:.\.           .:/
.   .   .  :      : ....::_:..:\   ___.  :/
   .   .  .   .:. .. .  .: :.:.:\       :/
     +   .   .   : . ::. :.:. .:.|\  .:/|
     .         +   .  .  ...:: ..|  --.:|
.      . . .   .  .  . ... :..:.."(  ..)"
 .   .       .      :  .   .: ::/  .  .::\ -->
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Triangle 3D Experiment</title>
    <meta
      property="og:image"
      content="http://www.marinko-brdarevic.com/img/og-img.png"
    />
    <meta property="og:url" content="http://www.marinko-brdarevic.com/" />
    <link
      rel="icon"
      sizes="192x192"
      href="https://marinko-brdarevic.com/img/icon.png"
    />
    <link
      rel="shortcut icon"
      href="https://marinko-brdarevic.com/img/icon.ico"
    />
    <script src="js/three.min.js"></script>
    <script src="js/OBJLoader.js"></script>
    <script src="js/MTLLoader.js"></script>
    <script src="js/OrbitControls.js"></script>
    <script src="js/orientation.js"></script>
    <style>
      body {
        margin: 0;
        overflow: hidden;
      }
    </style>
  </head>
  <body>
    <script type="module">
      var camera, controls, scene, renderer;

      // Create the Three.js Scene
      var scene = new THREE.Scene();

      // Create a new Perspective Camera
      var camera = new THREE.PerspectiveCamera(
        75,
        window.innerWidth / window.innerHeight,
        0.1,
        1000
      );
      camera.position.z = 700;

      // Create a Full Screen WebGL Renderer
      var renderer = new THREE.WebGLRenderer({ antialias: true, alpha: true });
      renderer.setClearColor("#000000");
      renderer.setSize(window.innerWidth, window.innerHeight);

      document.body.appendChild(renderer.domElement);

      // Make sure the project is responsive based on window resizing
      window.addEventListener("resize", () => {
        renderer.setSize(window.innerWidth, window.innerHeight);
        camera.aspect = window.innerWidth / window.innerHeight;

        camera.updateProjectionMatrix();
      });

      //controls
      var controls = new THREE.OrbitControls(camera, renderer.domElement);
      //controls.addEventListener("change", render); // call this only in static scenes (i.e., if there is no animation loop)
      // var orientationControls = new THREE.DeviceOrientationControls(camera);
      //lights

      var light = new THREE.PointLight(0xffffff, 1.4, 2000);
      light.position.set(0, 500, 500);
      scene.add(light);

      // Defining a variable for our two models
      var ourObj;

      // Create a material
      var mtlLoader = new THREE.MTLLoader();
      mtlLoader.load("models/3g.mtl", function (materials) {
        materials.preload();

        // Load the object
        var objLoader = new THREE.OBJLoader();
        objLoader.setMaterials(materials);
        objLoader.load("models/3g.obj", function (object) {
          scene.add(object);
          ourObj = object;
          //object.position.z -= 600;
          object.position.y -= 100;
          //object.rotation.x = 0;
        });
      });

      var render = function () {
        requestAnimationFrame(render);

        // Rotate the objects indefinitely

        ourObj.rotation.y += 0.01; // only required
        // ourObj2.rotation.z += 0.03;
        //controls.update();
        renderer.render(scene, camera);
      };

      // Call this to render the entire scene
      render();
    </script>
  </body>
</html>
